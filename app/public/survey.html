<!DOCTYPE HTML>

<!--Questios-->
<html>
	<head>
		<title>Friend Finder</title>
		<meta charset="utf-8" />
<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">
<script type="text/javascript" src="https://code.jquery.com/jquery-3.3.1.min.js"></script>

	</head>
	<body>

<div class="container">
	
<h2>Survey Questions</h2>
<br>

<h3>About You</h3>
<br>
<h4>Name (Required)</h4>
<input type="text" name="" id="name" placeholder="Name" class="form-control" required>
<br>
<h4>Link To Photo Image (Required)</h4>
<input type="text" name="" id="photo" placeholder="Upload Photo" class="form-control" required>
<br>
        <div class="form-group">
          <label>Upload File</label>
          <input type="file">
          <p class="help-block">Only png and jpg allowed</p>
        </div>

<br>



    <div class="container">
      <form>
        

<h3><strong>Question 1</strong></h3>
<h4>How generous are you?</h4>
<select data-placeholder="" class="chosen-select" id="q1">
	<option value=""></option>
	<option value="1">1 Strongly Disagree</option>
	<option value="2">2 Disagree</option>
	<option value="3">3 Depends</option>
	<option value="4">4 Agree</option>
	<option value="5">5 Strongly Agree</option>
</select>
<br>

<h3><strong>Question 2</strong></h3>
<h4>Do you love fashion?</h4>
<select data-placeholder="" class="chosen-select" id="q2">
	<option value=""></option>
	<option value="1">1 Strongly Disagree</option>
	<option value="2">2 Disagree</option>
	<option value="3">3 Depends</option>
	<option value="4">4 Agree</option>
	<option value="5">5 Strongly Agree</option>
</select>
<br>

<h3><strong>Question 3</strong></h3>
<h4>Are you a fan of Bluetooth?</h4>
<select data-placeholder="" class="chosen-select" id="q3">
	<option value=""></option>
	<option value="1">1 Strongly Disagree</option>
	<option value="2">2 Disagree</option>
	<option value="3">3 Depends</option>
	<option value="4">4 Agree</option>
	<option value="5">5 Strongly Agree</option>
</select>
<br>

<h3><strong>Question 4</strong></h3>
<h4>Do you love astronomy?</h4>
<select data-placeholder="" class="chosen-select" id="q4">
	<option value=""></option>
	<option value="1">1 Strongly Disagree</option>
	<option value="2">2 Disagree</option>
	<option value="3">3 Depends</option>
	<option value="4">4 Agree</option>
	<option value="5">5 Strongly Agree</option>
</select>
<br>

<h3><strong>Question 5</strong></h3>
<h4>Do you love cars?</h4>
<select data-placeholder="" class="chosen-select" id="q5">
	<option value=""></option>
	<option value="1">1 Strongly Disagree</option>
	<option value="2">2 Disagree</option>
	<option value="3">3 Depends</option>
	<option value="4">4 Agree</option>
	<option value="5">5 Strongly Agree</option>
</select>
<br>

        </form>

			</div>
<br>
<br>
 <button id="submit" class="btn btn-success">Submit</button>
			     
				<!-- Footer -->

				<br>
				<br>
					<footer class="wrapper style1 align-center">
						<div class="inner">
							<p>API Friend's List: <a href="#">By: JP</a>.</p>
						</div>
					</footer>

	<div id="resultsModal" class="modal fade" role="dialog">
		<div class="modal-dialog">
			
			<div class="modal-content">
				<div class="modal-header">
					<button type="button" class="close" data-dismiss="modal">&times;</button>
					<h2 class="modal-title">Best Match</h2>
				</div>
				<div class="modal-body">
					<h2 id="matchName"></h2>
					<img id="matchImg" src="" alt="">
				</div>
				<div class="modal-footer">
					<button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
				</div>
			</div>

		</div>
		
	</div>



<script type="text/javascript">
	
	$("#submit").on("click", function(){
		function validateForm(){
			var isValid = true;
			$(".form-control").each(function(){
				if ($(this).val() ==="") {
					isValid = false;
				}
			});
			$(".chosen-select").each(function() {
				if ($(this).val() === "") {
					isValid = false;
				}
			})
			return isValid;
		}

		if(validateForm()) {
			var userData = {
				name: $("#name").val(),
				photo: $("#photo").val(),
				scores: [
					$("#q1").val(),
					$("#q2").val(),
					$("#q3").val(),
					$("#q4").val(),
					$("#q5").val()
				]
			};

			var currentURL = window.location.orgin;
			$.post(currentURL + "/api/friends", userData, function(data) {

				$("#matchName").text(data.name);
				$("#matchImg").attr("src", data.photo);

				$("#resultsModal").modal("toggle");
				//alert("working");
			});
		}

	});
	
</script>


	</body>
</html>